digraph OPMGraph { rankdir="TB"
<%q{|q| q<<[:artifact,RDF.type,OPM.Artifact]
  }.each do |s|-%>

"<%=l s[:artifact]%>" [label="<%=l label_for(s[:artifact])%>",href="<%=l s[:artifact]%>"]
<%end%>
<%q{|q| q<<[:outlink,OPM.effect,:out]<<
    [:out,RDF.type,OPM.Artifact] <<
    [:outlink,OPM.cause,:proc]<<
    [:inlink,OPM.effect,:proc]<<
    [:inlink,OPM.cause,:in]}.each do |s|-%>
"<%=l s[:in]%>"->"<%=l s[:out]%>"
<%end%>
}